<div class="flex items-start gap-4 p-4 border border-gray-300 rounded-lg bg-gray-50" data-nested-form-target="recipient">
  <div class="flex-1 grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <%= form.label :name, "Name", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.text_field :name, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "John Doe" %>
      <% if form.object.errors[:name].any? %>
        <p class="mt-1 text-sm text-red-600"><%= form.object.errors[:name].first %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :email, "Email", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.email_field :email, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "john@example.com" %>
      <% if form.object.errors[:email].any? %>
        <p class="mt-1 text-sm text-red-600"><%= form.object.errors[:email].first %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :phone, "Phone", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.text_field :phone, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "+1234567890" %>
      <% if form.object.errors[:phone].any? %>
        <p class="mt-1 text-sm text-red-600"><%= form.object.errors[:phone].first %></p>
      <% end %>
      <% if form.object.errors[:base].any? %>
        <p class="mt-1 text-sm text-red-600"><%= form.object.errors[:base].first %></p>
      <% end %>
    </div>
  </div>

  <div class="pt-6">
    <%= form.hidden_field :_destroy, value: false, data: { "nested-form-target": "destroyInput" } %>
    <%= button_tag type: "button",
        data: { action: "click->nested-form#remove" },
        class: "p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition",
        title: "Remove recipient" do %>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
      </svg>
    <% end %>
  </div>
</div>

